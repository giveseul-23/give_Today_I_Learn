<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>테이블생성</title>
    <!-- jQuery import 방식2 : CDN -->
    <script src="js/jquery-3.5.1.min.js"></script>
    <script>
        //(실습) 행과 열 값을 읽어서 테이블 생성하기
        // val() 메소드 : value 값 읽기, 설정하기
        //1. 클릭이벤트 연결
        //2. input 태그값 읽어오기(행, 열)
        //3. 행, 열 값에 맞추어 table 태그 작성
        //4. 원하는 위치(#myDiv)에 table 태그 추가

        $(function() {
            initEvent();
        });
        
        function initEvent(){
            //1. 클릭이벤트 연결
            $('#btn').on("click", function() {
                //alert("btn 클릭 확인");
                btnEvent();
            });
        };

        function btnEvent() {
            //2. input 태그값 읽어오기(행, 열)
            var row = $('#row').val(); //여기서 넘어노는 데이터형태는 String
            var col = $('#col').val();
            //console.log("row : " + row + ", col : " + col);
            
            //makeTable 호출하여 return값 받음
            var htmlTag = makeTable(row,col);
            
            //4. 원하는 위치(#myDiv)에 table 태그 추가
            $('#myDiv').html(htmlTag);
        };
        
        function makeTable(row, col){
            //3. 행, 열 값에 맞추어 table 태그 작성
            var htmlTag = '<table>';

            htmlTag += '<thead>';
            htmlTag += '<tr>';

            //컬럼의 개수만큼 th 태그 만들기
            for (let i = 1; i <= col; i++) {
                htmlTag += '<th>항목 ' + i + '</th>';
            }
            htmlTag += '</tr>';
            htmlTag += '</thead>';

            htmlTag += '<tbody>';
            //tr, td 만들기 - tr은 row의 개수, td - col의 개수
            //tr 태그만들기(행의 개수만큼)
            for (let r = 1; r <= row; r++) {
                htmlTag += '<tr>';

                //td 태그만들기(컬럼의 개수만큼)
                for (let c = 1; c <= col; c++) {
                    htmlTag += '<td>데이터' + r + ',' + c + '</td>';
                }

                htmlTag += '</tr>';
            }

            htmlTag += '</tbody>';

            htmlTag += '</table>';

            return htmlTag;
        };
    </script>
    <style>
        table,
        th,
        td {
            border: 1px solid black;
        }

        th {
            background-color: gray;
        }

        #myDiv {
            background-color: yellow;
        }
    </style>
</head>

<body>
    <h2>테이블 동적 생성</h2>
    <input type="text" value="2" size="5" id="row">행 &nbsp;
    <input type="text" value="3" size="5" id="col">열 &nbsp;
    <button id="btn">테이블 생성</button>
    <hr>
    <div id="myDiv">
        동적으로 테이블 생성할 영역
    </div>
    <hr>
    <hr>
    <div>
        <h3>(참고) th제외하고, 2행 3열 테이블</h3>
        <table>
            <thead>
                <tr>
                    <th>항목1</th>
                    <th>항목2</th>
                    <th>항목3</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>데이터 1,1</td>
                    <td>데이터 1,2</td>
                    <td>데이터 1,3</td>
                </tr>
                <tr>
                    <td>데이터 2,1</td>
                    <td>데이터 2,2</td>
                    <td>데이터 2,3</td>
                </tr>
            </tbody>
        </table>
    </div>


    <br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br>
</body></html>









